<svg width="500" height="500" viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <defs>
    <!-- Wood grain pattern for workbench (userSpaceOnUse allows texture to scale with object) -->
    <pattern id="woodGrain" patternUnits="userSpaceOnUse" width="40" height="40" patternTransform="rotate(5)">
      <rect x="0" y="0" width="40" height="40" fill="#8B4513"/> <!-- Base wood color -->
      <path d="M0,5 Q10,0 20,5 T40,5 M0,15 Q10,10 20,15 T40,15 M0,25 Q10,20 20,25 T40,25 M0,35 Q10,30 20,35 T40,35" stroke="#A0522D" stroke-width="1" fill="none"/>
    </pattern>

    <!-- Mask for workbench wear (black areas remove parts of the pattern, white reveals) -->
    <mask id="workbenchWearMask">
      <rect x="0" y="0" width="500" height="500" fill="white"/>
      <circle cx="200" cy="300" r="15" fill="black" opacity="0.4"/>
      <rect x="180" y="320" width="40" height="10" fill="black" opacity="0.3" transform="rotate(5 200 325)"/>
      <circle cx="250" cy="280" r="10" fill="black" opacity="0.2"/>
    </mask>

    <!-- Marker for quill nib (points towards the end of the path) -->
    <marker id="quillNib" viewBox="0 0 10 10" refX="0" refY="5" markerWidth="5" markerHeight="5" orient="auto-start-reverse">
      <path d="M0,0 L10,5 L0,10 L3,5 Z" fill="#333"/>
    </marker>

    <!-- Filter for metal compasses (specular lighting for shine, then cool highlights) -->
    <filter id="compassFilter" x="-50%" y="-50%" width="200%" height="200%">
      <!-- fePointLight simulates a light source at a specific XYZ position -->
      <feSpecularLighting in="SourceGraphic" specularExponent="50" lighting-color="white" result="specularLight">
        <!-- Light source positioned to match a high window on the left/top-left -->
        <fePointLight x="100" y="50" z="200"/>
      </feSpecularLighting>
      <!-- Combine specular light with original graphic -->
      <feComposite in="specularLight" in2="SourceGraphic" operator="arithmetic" k1="0" k2="1" k3="1" k4="0" result="litSurface"/>
      <!-- Apply cool tone via feColorMatrix (slight blue tint) -->
      <feColorMatrix in="litSurface" type="matrix" values="
        1 0 0 0 0
        0 1 0 0 0
        0 0 1 0 0
        0 0 0 1 0
      " result="coolTones"/>
      <feBlend in="coolTones" in2="SourceGraphic" mode="multiply"/>
    </filter>

    <!-- Radial gradients for chiaroscuro (light source from window) -->
    <radialGradient id="chiaroscuroLight" cx="0.4" cy="0.3" r="0.8" fx="0.3" fy="0.2">
      <stop offset="0%" stop-color="#FFF8E1" stop-opacity="0.8"/>
      <stop offset="70%" stop-color="#FFF8E1" stop-opacity="0.2"/>
      <stop offset="100%" stop-color="#C2B280" stop-opacity="0"/>
    </radialGradient>
    <!-- Radial gradient for general ambient darkness, creating corners/depth -->
    <radialGradient id="chiaroscuroDark" cx="0.5" cy="0.7" r="1.0" fx="0.5" fy="0.7">
      <stop offset="0%" stop-color="#000" stop-opacity="0"/>
      <stop offset="50%" stop-color="#000" stop-opacity="0.2"/>
      <stop offset="100%" stop-color="#000" stop-opacity="0.4"/>
    </radialGradient>

  </defs>

  <!-- Workshop background - Simplified two-point perspective -->
  <!-- Horizon Y = 700 * 0.25 (for 500x500 scale) = 175 -->
  <!-- Vanishing points: VP1 (-625, 175), VP2 (1125, 175) -->

  <!-- Floor (trapezoid, converges towards VPs) -->
  <polygon points="0,500 500,500 400,250 100,250" fill="#5C4033"/> <!-- Dark brown floor -->
  <!-- Back wall -->
  <polygon points="100,250 400,250 400,100 100,100" fill="#A0522D"/> <!-- Terracotta-like wall -->
  <!-- Left wall -->
  <polygon points="0,500 100,250 100,100 0,0" fill="#8B4513"/> <!-- Medium brown wall -->
  <!-- Right wall -->
  <polygon points="500,500 400,250 400,100 500,0" fill="#8B4513"/> <!-- Medium brown wall -->

  <!-- Window (source of light) -->
  <rect x="150" y="120" width="100" height="80" fill="#ADD8E6" stroke="#5C4033" stroke-width="3"/>
  <line x1="200" y1="120" x2="200" y2="200" stroke="#5C4033" stroke-width="2"/>
  <line x1="150" y1="160" x2="250" y2="160" stroke="#5C4033" stroke-width="2"/>

  <!-- Workbench with wood grain and wear mask -->
  <g mask="url(#workbenchWearMask)">
    <polygon points="120,400 350,380 350,280 120,290" fill="url(#woodGrain)"/> <!-- Top surface -->
    <polygon points="120,400 120,430 350,410 350,380" fill="#654321"/> <!-- Front face -->
    <polygon points="350,380 350,410 370,400 370,300" fill="#654321"/> <!-- Right face -->
  </g>

  <!-- Camera Obscura Box -->
  <g id="cameraObscura">
    <rect x="180" y="270" width="100" height="150" fill="#3D2B1F" stroke="#2C1D14" stroke-width="2"/> <!-- Box body -->
    <circle cx="230" cy="345" r="5" fill="#1C140D"/> <!-- Lens aperture -->

    <!-- Projected sunlit street onto poplar panel (500x700mm scaled to 125x175px in this viewbox) -->
    <rect x="195" y="290" width="70" height="100" fill="transparent" stroke="#B8860B" stroke-width="1"/> <!-- Poplar panel border -->
    <g transform="translate(195, 290) scale(0.14)"> <!-- Scale inner projection to fit panel -->
      <rect x="0" y="0" width="500" height="700" fill="#D2B48C"/> <!-- Poplar Panel background -->
      <rect x="50" y="200" width="400" height="300" fill="#A9CCE3"/> <!-- Sky -->
      <path d="M50,500 L450,500 L450,450 L50,450 Z" fill="#606060"/> <!-- Street -->
      <path d="M100,450 L100,300 L150,300 L150,450 Z" fill="#8B0000"/> <!-- Building 1 -->
      <path d="M300,450 L300,250 L350,250 L350,450 Z" fill="#CD853F"/> <!-- Building 2 -->
      <circle cx="250" cy="270" r="30" fill="yellow" opacity="0.8"/> <!-- Stylized "Sun" or bright light source -->
    </g>
  </g>

  <!-- Apprentice (7.5 heads tall, head 1/7.5 body, elbow at waist, hands 1/10 height) -->
  <g id="apprentice" transform="translate(380, 200) scale(0.2)">
    <!-- Base height ~75 units for easier scaling to 7.5 heads. Head is 10 units. -->
    <circle cx="0" cy="10" r="8" fill="#F8DE7E"/> <!-- Head -->
    <rect x="-7" y="18" width="14" height="30" fill="#6A0505"/> <!-- Tunic/Torso -->
    <rect x="-5" y="48" width="10" height="25" fill="#3B1C08"/> <!-- Legs -->
    <line x1="-7" y1="25" x2="-20" y2="40" stroke="#6A0505" stroke-width="3"/> <!-- Left arm (elbow at y=40, waist level) -->
    <line x1="7" y1="25" x2="20" y2="40" stroke="#6A0505" stroke-width="3"/> <!-- Right arm -->
    <circle cx="-20" cy="40" r="4" fill="#F8DE7E"/> <!-- Left Hand (approx 1/10 of 75 unit height = 7.5 units, so radius 4 is ok) -->
    <circle cx="20" cy="40" r="4" fill="#F8DE7E"/> <!-- Right Hand -->
  </g>

  <!-- Tools on workbench -->
  <!-- Metal Compasses with filter for reflection -->
  <g filter="url(#compassFilter)">
    <path d="M220,295 L225,320 L230,295 Z M222,305 L227,330 M228,305 L223,330" stroke="#C0C0C0" stroke-width="2" fill="none"/>
    <circle cx="225" cy="295" r="3" fill="#C0C0C0"/>
  </g>

  <!-- Quill pen with marker-end for nib -->
  <path d="M250,285 L260,320 L255,325" fill="none" stroke="#6F4E37" stroke-width="2" marker-end="url(#quillNib)"/>

  <!-- Paper notes with mirror-script textPath on a spiral spline -->
  <g id="notes" transform="translate(100, 310) rotate(-10)">
    <rect x="0" y="0" width="80" height="60" fill="#FDF5E6" stroke="#D2B48C" stroke-width="0.5" rx="5" ry="5"/>
    <!-- Spiral paths for text -->
    <path id="spiralPath" d="M10,10 Q20,0 30,10 Q40,20 30,30 Q20,40 10,30 Q0,20 10,10" fill="none"/>
    <path id="spiralPath2" d="M15,15 Q25,5 35,15 Q45,25 35,35 Q25,45 15,35 Q5,25 15,15" fill="none"/>
    <!-- Mirror script by using direction="rtl" and startOffset="100%" (text starts from end) -->
    <text font-family="serif" font-size="6" fill="#333" direction="rtl">
      <textPath xlink:href="#spiralPath" startOffset="100%">
        .spihsrewollof sih tcatnoc ot tnaportnuos dna ytihgim na eb lliw nam siht fo ecnegretS
      </textPath>
    </text>
    <text font-family="serif" font-size="6" fill="#333" direction="rtl">
      <textPath xlink:href="#spiralPath2" startOffset="100%">
        .stneve dna scitamathed yb delevitnI
      </textPath>
    </text>
  </g>

  <!-- Chiaroscuro via layered radial gradients and cast shadows -->
  <!-- Apply general ambient light from the "window" area -->
  <rect x="0" y="0" width="500" height="500" fill="url(#chiaroscuroLight)"/>
  <!-- Apply general ambient darkness for depth and less illuminated areas -->
  <rect x="0" y="0" width="500" height="500" fill="url(#chiaroscuroDark)"/>

  <!-- Cast shadows consistent with light from window (top-left) -->
  <!-- Shadow for workbench -->
  <polygon points="125,405 355,385 365,400 135,430" fill="black" opacity="0.3"/>
  <!-- Shadow for camera obscura -->
  <polygon points="185,420 285,410 290,420 190,430" fill="black" opacity="0.25"/>
  <!-- Shadow for apprentice (simplified) -->
  <path d="M400,400 A20 5 0 0 1 390,410 L380,410 A20 5 0 0 1 400,400 Z" fill="black" opacity="0="/>
</svg>