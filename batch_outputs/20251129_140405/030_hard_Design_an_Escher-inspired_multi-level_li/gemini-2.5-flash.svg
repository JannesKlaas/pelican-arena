<svg width="500" height="500" viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <defs>
    <!-- Filter for Orrery's specular lighting effect -->
    <filter id="specularLighting" x="-20%" y="-20%" width="140%" height="140%">
      <feDiffuseLighting in="SourceGraphic" result="light" lighting-color="#eedd82">
        <fePointLight x="0" y="0" z="50" />
      </feDiffuseLighting>
      <feSpecularLighting in="SourceGraphic" result="specular" lighting-color="#f8f4a1" specularExponent="30">
        <fePointLight x="0" y="0" z="50" />
      </feSpecularLighting>
      <feComposite in="SourceGraphic" in2="specular" operator="arithmetic" k1="0" k2="1" k3="1" k4="0"/>
    </filter>

    <!-- Gradients for stairs to simulate perceptual flips -->
    <linearGradient id="stairGradientUp" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" stop-color="#8B4513"/>
      <stop offset="100%" stop-color="#A0522D"/>
    </linearGradient>
    <linearGradient id="stairGradientDown" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" stop-color="#A0522D"/>
      <stop offset="100%" stop-color="#8B4513"/>
    </linearGradient>

    <!-- Paths for text-on-path quotes (simplified helices) -->
    <path id="pathLatin" d="M 320 180 Q 340 160 360 180 Q 380 200 400 180" fill="none" stroke="none"/>
    <path id="pathGreek" d="M 100 320 Q 120 300 140 320 Q 160 340 180 320" fill="none" stroke="none"/>

    <!-- Bookshelf component (simplified books, varying heights) -->
    <g id="bookshelf">
      <rect x="0" y="0" width="50" height="6" fill="#603913"/> <!-- Shelf -->
      <!-- Book spines (240mm standard ~ 8 units, 380mm folios ~ 12 units for viewBox scale) -->
      <rect x="2" y="1" width="3" height="8" fill="#4B0082"/>
      <rect x="6" y="1" width="3" height="7" fill="#8B0000"/>
      <rect x="10" y="1" width="3" height="8" fill="#2E8B57"/>
      <rect x="14" y="1" width="3" height="10" fill="#000080"/> <!-- Folio -->
      <rect x="18" y="1" width="3" height="7" fill="#D2B48C"/>
      <rect x="22" y="1" width="3" height="8" fill="#6A5ACD"/>
      <rect x="26" y="1" width="3" height="7" fill="#CD5C5C"/>
      <rect x="30" y="1" width="3" height="10" fill="#228B22"/> <!-- Folio -->
      <rect x="34" y="1" width="3" height="8" fill="#A9A9A9"/>
      <rect x="38" y="1" width="3" height="7" fill="#FFD700"/>
      <rect x="42" y="1" width="3" height="8" fill="#8B4513"/>
      <rect x="46" y="1" width="3" height="10" fill="#4682B4"/> <!-- Folio -->
    </g>

    <!-- Scholar components (simplified silhouettes for distinct eras) -->
    <g id="scholarToga">
      <path d="M-5,0 C-5,-5 -3,-10 0,-10 C3,-10 5,-5 5,0 L3,0 L2,5 Q0,10 -2,5 L-3,0 Z" fill="#F0EAD6"/>
      <circle cx="0" cy="-12" r="3" fill="#D2B48C"/>
    </g>
    <g id="scholarAbaya">
      <path d="M-4,0 C-4,-5 -3,-10 0,-10 C3,-10 4,-5 4,0 L2,10 L-2,10 Z" fill="#2C3E50"/>
      <rect x="-3" y="-13" width="6" height="5" fill="#2C3E50"/>
    </g>
    <g id="scholarFrockCoat">
      <rect x="-4" y="-12" width="8" height="10" fill="#34495E"/>
      <path d="M-6,-2 C-6,8 6,8 6,-2 L4,-2 L4,10 L-4,10 L-4,-2 Z" fill="#34495E"/>
      <circle cx="0" cy="-14" r="3" fill="#D2B48C"/>
    </g>

    <!-- Green-shaded lamp with 3000K (warm) light -->
    <g id="lamp">
      <path d="M -4 0 L 4 0 L 3 -5 L -3 -5 Z" fill="#2E8B57"/> <!-- Green Shade -->
      <circle cx="0" cy="0" r="1.5" fill="#FFCC66"/> <!-- Warm light (3000K suggestion) -->
      <path d="M 0 0 L 0 6" stroke="#8B4513" stroke-width="0.7"/> <!-- Stem -->
    </g>
  </defs>

  <!-- Main library structure - designed to suggest 3-point perspective and impossibility -->
  <g transform="translate(250, 250)">
    <!-- Base platform/floor, skewed for perspective -->
    <polygon points="-160,-60 160,-110 160,50 -160,100" fill="#D2B48C"/>
    <polygon points="-160,-60 -160,-70 160,-120 160,-110" fill="#8B4513"/> <!-- Side edge for depth -->
    <polygon points="160,50 160,60 -160,110 -160,100" fill="#8B4513"/> <!-- Other side edge -->

    <!-- Orrery with specular lighting -->
    <g transform="translate(0, -30)" filter="url(#specularLighting)">
      <circle cx="0" cy="0" r="15" fill="#B8860B"/> <!-- Sun (Brass) -->

      <!-- Planets with proportional radii (not scale distances) -->
      <path d="M-20,0 A20,5 0 1,0 20,0 A20,5 0 1,0 -20,0" stroke="#ccc" stroke-width="0.5" fill="none"/>
      <circle cx="20" cy="0" r="3" fill="#A9A9A9"/> <!-- Small planet -->

      <path d="M-35,0 A35,9 0 1,0 35,0 A35,9 0 1,0 -35,0" stroke="#ccc" stroke-width="0.5" fill="none"/>
      <circle cx="-35" cy="0" r="5" fill="#FF4500"/> <!-- Medium planet -->

      <!-- Saturn with ring, tilted for 35° perspective via skew transform -->
      <g transform="translate(45, 0) skewX(20)"> <!-- Approximately 35 degrees -->
        <circle cx="0" cy="0" r="8" fill="#DAA520"/> <!-- Saturn body -->
        <ellipse cx="0" cy="0" rx="12" ry="4" fill="none" stroke="#D2B48C" stroke-width="1.5"/> <!-- Ring -->
      </g>
    </g>

    <!-- Staircases and landings - creating visual "flips" and impossible connections -->
    <!-- Staircase 1 (leading up-left) -->
    <g transform="translate(-100, 50) rotate(-10)">
      <polygon points="-30,0 30,-20 30,-25 -30,-5" fill="url(#stairGradientUp)"/> <!-- Step 1 -->
      <polygon points="-30,-5 30,-25 30,-30 -30,-10" fill="url(#stairGradientDown)"/> <!-- Step 2 (gradient flip) -->
      <polygon points="-30,-10 30,-30 30,-35 -30,-15" fill="url(#stairGradientUp)"/> <!-- Step 3 -->
      <!-- Landing 1 -->
      <polygon points="-40,-35 40,-55 40,-60 -40,-40" fill="#BC8F8F"/>
      <!-- Railings (vector-effect='non-scaling-stroke') -->
      <path d="M -28 0 L 28 -20" stroke="#6B4226" stroke-width="1" vector-effect="non-scaling-stroke" fill="none"/>
      <path d="M 28 -20 L 30 -35" stroke="#6B4226" stroke-width="1" vector-effect="non-scaling-stroke" fill="none"/>
      <path d="M 30 -35 L 38 -55" stroke="#6B4226" stroke-width="1" vector-effect="non-scaling-stroke" fill="none"/>
    </g>

    <!-- Staircase 2 (leading down-right, suggesting another level) -->
    <g transform="translate(100, -70) rotate(15)">
      <polygon points="-30,0 30,20 30,25 -30,5" fill="url(#stairGradientDown)"/>
      <polygon points="-30,5 30,25 30,30 -30,10" fill="url(#stairGradientUp)"/>
      <polygon points="-30,10 30,30 30,35 -30,15" fill="url(#stairGradientDown)"/>
      <!-- Landing 2 -->
      <polygon points="-40,35 40,55 40,60 -40,40" fill="#BC8F8F"/>
      <!-- Railings -->
      <path d="M -28 0 L 28 20" stroke="#6B4226" stroke-width="1" vector-effect="non-scaling-stroke" fill="none"/>
      <path d="M 28 20 L 30 35" stroke="#6B4226" stroke-width="1" vector-effect="non-scaling-stroke" fill="none"/>
      <path d="M 30 35 L 38 55" stroke="#6B4226" stroke-width="1" vector-effect="non-scaling-stroke" fill="none"/>
    </g>

    <!-- Library shelves on different perceived walls -->
    <g transform="translate(-160, -60) skewY(15)">
      <rect x="-5" y="0" width="10" height="120" fill="#6B4226"/> <!-- Wall segment -->
      <use xlink:href="#bookshelf" transform="translate(0, 10) scale(1.3, 1)"/>
      <use xlink:href="#bookshelf" transform="translate(0, 40) scale(1.3, 1)"/>
      <use xlink:href="#bookshelf" transform="translate(0, 70) scale(1.3, 1)"/>
      <use xlink:href="#bookshelf" transform="translate(0, 100) scale(1.3, 1)"/>
    </g>
    <g transform="translate(150, -110) skewY(-15)">
      <rect x="0" y="0" width="10" height="120" fill="#6B4226"/> <!-- Wall segment -->
      <use xlink:href="#bookshelf" transform="translate(-40, 10) scale(1.3, 1)"/>
      <use xlink:href="#bookshelf" transform="translate(-40, 40) scale(1.3, 1)"/>
      <use xlink:href="#bookshelf" transform="translate(-40, 70) scale(1.3, 1)"/>
      <use xlink:href="#bookshelf" transform="translate(-40, 100) scale(1.3, 1)"/>
    </g>
    
    <!-- Scholars reading by green-shaded lamps -->
    <g transform="translate(-80, 80) scale(0.8)">
      <use xlink:href="#scholarToga" />
      <use xlink:href="#lamp" transform="translate(12, -5)"/>
    </g>
    <g transform="translate(60, -40) scale(0.8)">
      <use xlink:href="#scholarFrockCoat" />
      <use xlink:href="#lamp" transform="translate(12, -5)"/>
    </g>
    <g transform="translate(20, 100) scale(0.8)">
      <use xlink:href="#scholarAbaya" />
      <use xlink:href="#lamp" transform="translate(12, -5)"/>
    </g>

    <!-- Latin and Greek quotes on paths -->
    <text font-family="serif" font-size="8" fill="#333" text-anchor="middle">
      <textPath xlink:href="#pathLatin" startOffset="50%">
        "Cogito ergo sum."
      </textPath>
    </text>
    <text font-family="serif" font-size="8" fill="#333" text-anchor="middle">
      <textPath xlink:href="#pathGreek" startOffset="50%">
        "Γνῶθι σαυτόν."
      </textPath>
    </text>

    <!-- Simplified cast shadows, coherent with general perspective -->
    <polygon points="-160,100 160,50 165,55 -155,105" fill="#000000" fill-opacity="0.2"/>
    <polygon points="-160,-60 -165,-55 155,-105 160,-110" fill="#000000" fill-opacity="0.2"/>
    <polygon points="-165,55 -165,115 -155,125 -155,65" fill="#000000" fill-opacity="0.2"/>
    <polygon points="160,-110 160,-50 170,-40 170,-100" fill="#000000" fill-opacity="0.2"/>
    <ellipse cx="0" cy="10" rx="25" ry="10" fill="#000000" fill-opacity="0.2"/>
  </g>
</svg>