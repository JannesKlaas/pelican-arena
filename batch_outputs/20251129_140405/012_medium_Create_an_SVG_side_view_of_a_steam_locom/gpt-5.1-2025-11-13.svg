<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 500">

  <!-- Background -->
  <rect x="0" y="0" width="500" height="500" fill="#b3e6ff"/>

  <!-- Tracks -->
  <rect x="0" y="360" width="500" height="6" fill="#555555"/>
  <!-- Sleepers -->
  <g fill="#8b5a2b">
    <rect x="10" y="366" width="20" height="8"/>
    <rect x="40" y="366" width="20" height="8"/>
    <rect x="70" y="366" width="20" height="8"/>
    <rect x="100" y="366" width="20" height="8"/>
    <rect x="130" y="366" width="20" height="8"/>
    <rect x="160" y="366" width="20" height="8"/>
    <rect x="190" y="366" width="20" height="8"/>
    <rect x="220" y="366" width="20" height="8"/>
    <rect x="250" y="366" width="20" height="8"/>
    <rect x="280" y="366" width="20" height="8"/>
    <rect x="310" y="366" width="20" height="8"/>
    <rect x="340" y="366" width="20" height="8"/>
    <rect x="370" y="366" width="20" height="8"/>
    <rect x="400" y="366" width="20" height="8"/>
    <rect x="430" y="366" width="20" height="8"/>
    <rect x="460" y="366" width="20" height="8"/>
  </g>

  <!-- Steam clouds -->
  <g fill="#ffffff" opacity="0.8">
    <circle cx="210" cy="100" r="20"/>
    <circle cx="230" cy="90" r="18"/>
    <circle cx="250" cy="95" r="22"/>
    <circle cx="270" cy="85" r="18"/>
    <circle cx="290" cy="95" r="20"/>
  </g>

  <!-- Main frame line -->
  <rect x="60" y="310" width="360" height="6" fill="#333333"/>

  <!-- Leading bogie frame -->
  <rect x="80" y="300" width="70" height="8" fill="#555555" rx="2"/>

  <!-- Trailing truck frame -->
  <rect x="340" y="300" width="60" height="8" fill="#555555" rx="2"/>

  <!-- Wheels -->
  <!-- Leading wheels (4 wheels on bogie) -->
  <g fill="#222222" stroke="#444444" stroke-width="2">
    <circle cx="95" cy="330" r="16"/>
    <circle cx="125" cy="330" r="16"/>
    <circle cx="155" cy="330" r="16"/>
    <circle cx="185" cy="330" r="16"/>
  </g>

  <!-- Driving wheels (6 large) -->
  <g fill="#222222" stroke="#555555" stroke-width="3">
    <circle cx="210" cy="330" r="32"/>
    <circle cx="260" cy="330" r="32"/>
    <circle cx="310" cy="330" r="32"/>
    <circle cx="360" cy="330" r="32"/>
    <circle cx="410" cy="330" r="32"/>
    <circle cx="460" cy="330" r="32"/>
  </g>

  <!-- Trailing wheels (2) -->
  <g fill="#222222" stroke="#444444" stroke-width="2">
    <circle cx="355" cy="330" r="18"/>
    <circle cx="395" cy="330" r="18"/>
  </g>

  <!-- Connecting rod pivot points on drivers (aligned for motion geometry) -->
  <!-- All main crankpins on a line slightly below axle centers -->
  <g id="driver-crankpins" fill="#bbbbbb" stroke="#666666" stroke-width="1">
    <circle cx="210" cy="344" r="3"/>
    <circle cx="260" cy="344" r="3"/>
    <circle cx="310" cy="344" r="3"/>
    <circle cx="360" cy="344" r="3"/>
    <circle cx="410" cy="344" r="3"/>
    <circle cx="460" cy="344" r="3"/>
  </g>

  <!-- Main coupling rod (connecting all 6 drivers) -->
  <path d="
    M210 344
    L260 344
    L310 344
    L360 344
    L410 344
    L460 344
  " fill="none" stroke="#cccccc" stroke-width="6" stroke-linecap="round" stroke-linejoin="round"/>

  <!-- Side rods on each driver (visual detail, same motion circle) -->
  <g stroke="#999999" stroke-width="3" stroke-linecap="round">
    <line x1="210" y1="344" x2="210" y2="330"/>
    <line x1="260" y1="344" x2="260" y2="330"/>
    <line x1="310" y1="344" x2="310" y2="330"/>
    <line x1="360" y1="344" x2="360" y2="330"/>
    <line x1="410" y1="344" x2="410" y2="330"/>
    <line x1="460" y1="344" x2="460" y2="330"/>
  </g>

  <!-- Cylinder block and piston assembly -->
  <!-- Cylinders -->
  <rect x="150" y="300" width="60" height="26" fill="#777777" stroke="#555555" stroke-width="2" rx="4"/>
  <!-- Piston rod (to front driver crankpin) -->
  <line x1="210" y1="313" x2="240" y2="320" stroke="#cccccc" stroke-width="4" stroke-linecap="round"/>
  <!-- Crosshead guide -->
  <line x1="160" y1="312" x2="210" y2="312" stroke="#999999" stroke-width="2"/>

  <!-- Valve gear (simplified Walschaerts type) -->
  <!-- Expansion link / radius rod -->
  <path d="M200 298 Q225 292 250 300" fill="none" stroke="#bbbbbb" stroke-width="2"/>
  <!-- Combination lever -->
  <line x1="210" y1="312" x2="210" y2="292" stroke="#bbbbbb" stroke-width="2"/>
  <!-- Union link to crankpin -->
  <line x1="210" y1="322" x2="210" y2="344" stroke="#bbbbbb" stroke-width="2"/>

  <!-- Boiler -->
  <ellipse cx="260" cy="240" rx="150" ry="60" fill="#333333" stroke="#111111" stroke-width="3"/>

  <!-- Firebox -->
  <rect x="310" y="210" width="90" height="90" fill="#444444" stroke="#222222" stroke-width="3" rx="8"/>

  <!-- Cab -->
  <rect x="360" y="180" width="80" height="80" fill="#2c3e50" stroke="#111111" stroke-width="3" rx="6"/>
  <rect x="370" y="190" width="35" height="35" fill="#87cefa" stroke="#2c3e50" stroke-width="2"/>

  <!-- Smokebox -->
  <rect x="110" y="210" width="80" height="80" fill="#555555" stroke="#222222" stroke-width="3"/>

  <!-- Smokebox door -->
  <circle cx="120" cy="250" r="32" fill="#666666" stroke="#111111" stroke-width="3"/>
  <circle cx="120" cy="250" r="4" fill="#222222"/>
  <!-- Door hinges -->
  <line x1="110" y1="228" x2="110" y2="272" stroke="#333333" stroke-width="3"/>
  <line x1="130" y1="228" x2="130" y2="272" stroke="#333333" stroke-width="3"/>

  <!-- Headlamp -->
  <rect x="80" y="232" width="22" height="22" rx="4" fill="#444444" stroke="#111111" stroke-width="2"/>
  <circle cx="91" cy="243" r="8" fill="#fff8c0" stroke="#ddd27a" stroke-width="2"/>

  <!-- Funnel / chimney -->
  <path d="
    M180 190
    L210 190
    L200 150
    L190 150
    Z
  " fill="#444444" stroke="#222222" stroke-width="3"/>

  <!-- Running boards -->
  <rect x="80" y="290" width="290" height="8" fill="#444444"/>
  <rect x="110" y="280" width="240" height="6" fill="#555555"/>

  <!-- Tender (simple) -->
  <rect x="380" y="230" width="90" height="70" fill="#3b3b3b" stroke="#111111" stroke-width="3"/>
  <rect x="390" y="220" width="70" height="15" fill="#4c4c4c" stroke="#222222" stroke-width="2"/>

</svg>